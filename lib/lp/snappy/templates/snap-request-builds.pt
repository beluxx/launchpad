<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/main_only"
  i18n:domain="launchpad">
<body>

<div metal:fill-slot="main">
  <div metal:use-macro="context/@@launchpad_form/form">
    <metal:formbody fill-slot="widgets">
      <table class="form">
        <tal:widget define="widget nocall:view/widgets/archive">
          <metal:block use-macro="context/@@launchpad_form/widget_row" />
        </tal:widget>
        <tal:comment condition="nothing">
          XXX cjwatson 2019-02-05: Architecture selection is still useful
          even when the series is inferred from snapcraft.yaml, but it's
          more difficult to work out what choices to offer.  For now we just
          make it all-or-nothing in that case.
        </tal:comment>
        <tal:has-distro-series condition="context/distro_series">
          <tal:widget define="widget nocall:view/widgets/distro_arch_series">
            <metal:block use-macro="context/@@launchpad_form/widget_row" />
          </tal:widget>
        </tal:has-distro-series>
        <tal:widget define="widget nocall:view/widgets/pocket">
          <metal:block use-macro="context/@@launchpad_form/widget_row" />
        </tal:widget>
        <tal:widget define="widget nocall:view/widgets/channels">
          <metal:block use-macro="context/@@launchpad_form/widget_row" />
        </tal:widget>
      </table>
    </metal:formbody>
  </div>
</div>

</body>
</html>
